<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="NG.MicroERP.SwiftServe.DineIn.Pages.BillPrintPage"
             BackgroundColor="White"
             Title="BillPrintPage">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="15">

            <!-- Company Header -->
            <Label x:Name="txtOrganization"
                   FontSize="24"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"
                   TextColor="#333" />

            <Label x:Name="txtOrganizationAddress"
                   FontSize="14"
                   HorizontalOptions="Center"
                   TextColor="Gray" />

            <Label x:Name="txtContact"
                   FontSize="14"
                   HorizontalOptions="Center"
                   TextColor="Gray" />

            <BoxView HeightRequest="1" BackgroundColor="#ccc" Margin="0,10"/>

            <!-- Bill Header -->
            <Grid ColumnDefinitions="*,*"
                  RowDefinitions="Auto,Auto"
                  ColumnSpacing="20"
                  RowSpacing="5">

                <Label Grid.Column="0" x:Name="txtSeqNo" FontAttributes="Bold" TextColor="Black"/>
                <Label Grid.Column="1" x:Name="txtTranDate" HorizontalOptions="End" TextColor="#333"/>

                <Label Grid.Column="0" Grid.Row="1" x:Name="txtLocation" TextColor="#333"/>
            </Grid>

            <BoxView HeightRequest="1" BackgroundColor="#ccc" Margin="0,10"/>

            <!-- Bill Details Table Header -->
            <Grid ColumnDefinitions="250, 150, 150, 150, 100" Padding="10" ColumnSpacing="10" BackgroundColor="Black">
                <Label Text="Item" FontAttributes="Bold" />
                <Label Text="Qty" FontAttributes="Bold" HorizontalTextAlignment="Center"/>
                <Label Text="Rate" FontAttributes="Bold" HorizontalTextAlignment="Center"/>
                <Label Text="Discount" FontAttributes="Bold" HorizontalTextAlignment="Center"/>
                <Label Text="Total" FontAttributes="Bold" HorizontalTextAlignment="End"/>
            </Grid>

            <!-- Bill Details List -->
            <CollectionView x:Name="BillDetailsCollectionView" ItemsSource="{Binding BillDetails}">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Grid ColumnDefinitions="2*,*,*,*,*" Padding="5">
                            <Label Text="{Binding Bills.Bill.Item}" />
                            <Label Text="{Binding Qty}" HorizontalTextAlignment="Center"/>
                            <Label Text="{Binding UnitPrice, StringFormat='Rs {0:N2}'}" HorizontalTextAlignment="Center"/>
                            <Label Text="{Binding Discount, StringFormat='Rs {0:N2}'}" HorizontalTextAlignment="Center"/>
                            <Label Text="{Binding Total, StringFormat='Rs {0:N2}'}" HorizontalTextAlignment="End"/>
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <!-- Totals -->
            <Grid ColumnDefinitions="4*,*" Margin="0,10">
                <Label Text="Grand Total:" FontSize="18" FontAttributes="Bold" HorizontalOptions="End"/>
                <Label x:Name="txtGrandTotal" FontSize="18" FontAttributes="Bold" TextColor="Green" HorizontalTextAlignment="End"/>
            </Grid>

            <!-- Footer -->
            <BoxView HeightRequest="1" BackgroundColor="#ccc" Margin="0,10"/>
            <Label Text="Thank you for your business!" HorizontalOptions="Center" FontAttributes="Italic" TextColor="Gray"/>

        </VerticalStackLayout>
    </ScrollView>
    
</ContentPage>