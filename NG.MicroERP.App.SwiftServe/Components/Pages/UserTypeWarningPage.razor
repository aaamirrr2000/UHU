@page "/UserTypeWarningPage"
@using NG.MicroERP.App.SwiftServe.Helper
@layout BlankLayout
@inject NavigationManager Nav

<div class="warning-container">
    <div class="warning-card">
        <div class="warning-icon">
            <i class="fas fa-exclamation-triangle fa-4x text-warning"></i>
        </div>
        
        <h1 class="warning-title">User Type Not Configured</h1>
        
        <p class="warning-message">
            Your account does not have a user type assigned. Please contact your administrator to configure your user type (WAITER, KITCHEN, ONLINE, or ADMIN) before accessing the application.
        </p>
        
        <div class="warning-details">
            <p><strong>Username:</strong> @(MyGlobals.User?.Username ?? "N/A")</p>
            <p><strong>Full Name:</strong> @(MyGlobals.User?.FullName ?? "N/A")</p>
            <p><strong>User Type:</strong> <span class="text-danger">Not Set</span></p>
        </div>
        
        <div class="warning-actions">
            <button class="btn btn-primary btn-lg" @onclick="GoToLogin">
                <i class="fas fa-sign-out-alt me-2"></i> Return to Login
            </button>
        </div>
    </div>
</div>

<style>
    .warning-container {
        min-height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 20px;
    }

    .warning-card {
        background: white;
        border-radius: 16px;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
        padding: 40px;
        max-width: 600px;
        width: 100%;
        text-align: center;
    }

    .warning-icon {
        margin-bottom: 24px;
        animation: pulse 2s infinite;
    }

    @@keyframes pulse {
        0%, 100% {
            transform: scale(1);
            opacity: 1;
        }
        50% {
            transform: scale(1.1);
            opacity: 0.8;
        }
    }

    .warning-title {
        color: #333;
        font-size: 28px;
        font-weight: 700;
        margin-bottom: 16px;
    }

    .warning-message {
        color: #666;
        font-size: 16px;
        line-height: 1.6;
        margin-bottom: 24px;
    }

    .warning-details {
        background: #f8f9fa;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 24px;
        text-align: left;
    }

    .warning-details p {
        margin-bottom: 8px;
        color: #495057;
        font-size: 14px;
    }

    .warning-details strong {
        color: #333;
        font-weight: 600;
    }

    .warning-actions {
        margin-top: 24px;
    }

    .btn {
        padding: 12px 32px;
        font-size: 16px;
        font-weight: 600;
        border-radius: 8px;
        border: none;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .btn-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
    }

    .btn-primary:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }

    .text-warning {
        color: #ffc107;
    }

    .text-danger {
        color: #dc3545;
        font-weight: 600;
    }
</style>

@code {
    private void GoToLogin()
    {
        // Clear user data and navigate to login
        MyGlobals.User = null;
        MyGlobals.Token = string.Empty;
        Nav.NavigateTo("/", true);
    }
}
