<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="Avalonia.Pages.LoginPage"
        Title="Sign in"
        Width="440"
        Height="560"
        MinWidth="380"
        MinHeight="520"
        WindowState="Maximized"
        WindowStartupLocation="CenterScreen"
        Background="#0c0e12"
        TransparencyLevelHint="None">

    <Window.Styles>
        <Style Selector="Border.login-card">
            <Setter Property="Background" Value="#161a22" />
            <Setter Property="BorderBrush" Value="#2a3140" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="CornerRadius" Value="16" />
            <Setter Property="Padding" Value="40,44" />
            <Setter Property="BoxShadow" Value="0 24 48 0 #00000080, 0 0 0 1 #ffffff08" />
        </Style>
        <Style Selector="TextBlock.login-title">
            <Setter Property="FontSize" Value="26" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Foreground" Value="#e8eaed" />
        </Style>
        <Style Selector="TextBlock.login-subtitle">
            <Setter Property="FontSize" Value="14" />
            <Setter Property="Foreground" Value="#8b929a" />
            <Setter Property="Margin" Value="0,6,0,0" />
        </Style>
        <Style Selector="TextBlock.field-label">
            <Setter Property="FontSize" Value="13" />
            <Setter Property="FontWeight" Value="Medium" />
            <Setter Property="Foreground" Value="#b0b6be" />
            <Setter Property="Margin" Value="0,0,0,8" />
        </Style>
        <Style Selector="TextBox.login-input">
            <Setter Property="Background" Value="#1e232b" />
            <Setter Property="Foreground" Value="#e8eaed" />
            <Setter Property="BorderBrush" Value="#2a3140" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="CornerRadius" Value="10" />
            <Setter Property="Padding" Value="14,12" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="CaretBrush" Value="#5dd0c4" />
        </Style>
        <Style Selector="TextBox.login-input:focus /template/ Border#PART_BorderElement">
            <Setter Property="BorderBrush" Value="#5dd0c4" />
            <Setter Property="BoxShadow" Value="0 0 0 2 #5dd0c440" />
        </Style>
        <Style Selector="TextBox.login-input /template/ Border#PART_BorderElement">
            <Setter Property="CornerRadius" Value="10" />
        </Style>
        <Style Selector="Button.login-button">
            <Setter Property="Background" Value="#5dd0c4" />
            <Setter Property="Foreground" Value="#0c0e12" />
            <Setter Property="FontSize" Value="14" />
            <Setter Property="FontWeight" Value="SemiBold" />
            <Setter Property="Padding" Value="24,14" />
            <Setter Property="CornerRadius" Value="10" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Cursor" Value="Hand" />
        </Style>
        <Style Selector="Button.login-button:pointerover">
            <Setter Property="Background" Value="#6ee0d4" />
        </Style>
        <Style Selector="Button.login-button:pressed">
            <Setter Property="Background" Value="#4cc0b4" />
        </Style>
        <Style Selector="Button.link-button">
            <Setter Property="Background" Value="Transparent" />
            <Setter Property="Foreground" Value="#5dd0c4" />
            <Setter Property="FontSize" Value="13" />
            <Setter Property="Padding" Value="0" />
            <Setter Property="BorderThickness" Value="0" />
            <Setter Property="Cursor" Value="Hand" />
        </Style>
        <Style Selector="Button.link-button:pointerover">
            <Setter Property="Foreground" Value="#6ee0d4" />
        </Style>
        <Style Selector="CheckBox.remember-check">
            <Setter Property="Foreground" Value="#8b929a" />
            <Setter Property="FontSize" Value="13" />
        </Style>
        <Style Selector="Border.busy-overlay">
            <Setter Property="Background" Value="#800c0e12" />
            <Setter Property="ZIndex" Value="100" />
        </Style>
    </Window.Styles>

    <Panel>
        <Border Classes="login-card"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                MaxWidth="360">
            <StackPanel Spacing="0">
                <TextBlock Classes="login-title" Text="Welcome back" />
                <TextBlock Classes="login-subtitle" Text="Sign in to continue. Use Tab to move, Enter to sign in." />

                <TextBlock Classes="field-label" Text="Username" Margin="0,28,0,0" />
                <TextBox x:Name="UsernameBox"
                         Classes="login-input"
                         Watermark="Username"
                         Margin="0,0,0,4"
                         TabIndex="0" />

                <TextBlock Classes="field-label" Text="Password" Margin="0,20,0,0" />
                <TextBox x:Name="PasswordBox"
                         Classes="login-input"
                         PasswordChar="●"
                         RevealPassword="True"
                         Watermark="Password"
                         Margin="0,0,0,4"
                         TabIndex="1" />

                <TextBlock x:Name="ErrorText"
                           Text=""
                           Foreground="#f87171"
                           FontSize="13"
                           Margin="0,16,0,0"
                           TextWrapping="Wrap"
                           IsVisible="False" />

                <Grid Margin="0,20,0,0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>
                    <CheckBox x:Name="RememberCheck"
                              Classes="remember-check"
                              Content="Remember me"
                              VerticalAlignment="Center"
                              TabIndex="2" />
                    <Button Grid.Column="1"
                            Classes="link-button"
                            Content="Forgot password?"
                            Click="OnForgotPasswordClick"
                            TabIndex="3" />
                </Grid>

                <Button x:Name="SignInButton"
                        Classes="login-button"
                        Content="Sign in"
                        HorizontalAlignment="Stretch"
                        Margin="0,32,0,0"
                        Click="OnSignInClick"
                        TabIndex="4" />

                <StackPanel Orientation="Horizontal"
                            HorizontalAlignment="Center"
                            Margin="0,24,0,0"
                            Spacing="4">
                    <TextBlock FontSize="12" Foreground="#6b7280" Text="Don't have an account?" VerticalAlignment="Center" />
                    <Button Classes="link-button" Content="Create one" Click="OnCreateAccountClick" TabIndex="5" />
                </StackPanel>
            </StackPanel>
        </Border>

        <!-- Busy overlay: shown while signing in -->
        <Border x:Name="BusyOverlay"
                Classes="busy-overlay"
                IsVisible="False"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Stretch"
                Background="#CC0c0e12">
            <StackPanel HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Spacing="16">
                <ProgressBar IsIndeterminate="True"
                             Width="200"
                             Height="4"
                             Foreground="#5dd0c4" />
                <TextBlock Text="Signing in…"
                           FontSize="16"
                           FontWeight="SemiBold"
                           Foreground="#e8eaed" />
                <TextBlock Text="Please wait."
                           FontSize="13"
                           Foreground="#8b929a" />
            </StackPanel>
        </Border>
    </Panel>
</Window>
